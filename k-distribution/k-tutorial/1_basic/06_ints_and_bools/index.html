<!DOCTYPE html>
<html lang="en">
  <head>
<meta charset="utf-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1.0, maximum-scale=1.0"
/>
<meta
  name="description"
  content="Design and implement your programming language and software analysis tools with mathematical rigor."
/>
<meta name="keywords" content="runtime, verification, rv, k" />
<meta name="author" content="K | Runtime Verification Inc" />
<meta name="robots" content="index, follow" />
<link rel="canonical" href="https://kframework.org/k-distribution/k-tutorial/1_basic/06_ints_and_bools/" />

<!--favicon icon-->
<link rel="icon" type="image/png" href="../../../../assets/img/favicon.ico" />

<title>K | Runtime Verification Inc</title>

<!-- <base href="/k/" /> -->

<!--web fonts-->
<link
  href="https://fonts.googleapis.com/css?family=Nunito:300,400,600,700,800"
  rel="stylesheet"
/>
<link
  href="https://fonts.googleapis.com/css?family=Lora:400i"
  rel="stylesheet"
/>

<link
  href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css"
  rel="stylesheet"
/>

<link href="../../../../assets/css/index.css" rel="stylesheet" />

<!--[if (gt IE 9) |!(IE)]><!-->
<!--<link rel="stylesheet" href="/assets/vendor/custom-nav/css/effects/fade-menu.css"/>-->
<!-- <link rel="stylesheet" href="../../../../assets/k/vl-nav/css/effects/slide-menu.css" /> -->
<!--<![endif]-->

  </head>

  <body>
<header
  class="navbar navbar-expand navbar-dark flex-column flex-md-row bd-navbar"
>
  <a class="logo-link" href="../../../../index.html">
    <img
      class="logo-dark"
      srcset="../../../../assets/img/k-logo.png"
      alt="K"
      style="height: 48px;"
    />
    Semantic Framework
  </a>
  <ul class="navbar-nav ml-md-auto">
    <li class="nav-item">
      <a
        class="nav-link pl-2 pr-1 mx-1 py-3 my-n2"
        href="https://github.com/kframework/k"
        target="_blank"
        rel="noopener"
        aria-label="GitHub"
      >
        <i class="fab fa-github"></i>
      </a>
    </li>
  </ul>
  <a
    class="btn btn-rv-blue d-none d-lg-inline-block mb-3 mb-md-0 ml-md-3"
    href="../../../../downloads"
    >Download</a
  >
</header>


    <div class="container-fluid">
      <div class="row flex-xl-nowrap">
<div class="col-12 col-md-3 col-xl-2 bd-sidebar mb-3">
  <form
    role="search"
    class="bd-search d-flex align-items-center justify-content-between"
  >
    <input
      type="search"
      class="form-control"
      placeholder="Search..."
      aria-label="Search for..."
      autocomplete="false"
      id="search-box"
    />
    <button
      class="btn bd-search-docs-toggle d-md-none p-0 ml-3 collapsed"
      type="button"
      aria-label="Toggle docs navigation"
      style="font-size: 1.4rem"
    >
      <i class="fas fa-bars"></i>
    </button>
  </form>
  <nav class="collapse bd-links" aria-label="Main navigation">
    <div class="bd-toc-item">
      <a class="bd-toc-link" href="../../../../">Homepage</a>
      <a class="bd-toc-link" href="../../../../downloads">Downloads</a>
      <a class="bd-toc-link" href="../../../../k-distribution/k-tutorial"
        >K Tutorial</a
      >
      <a class="bd-toc-link" href="../../../../k-distribution/pl-tutorial"
        >K PL Tutorial</a
      >
      <a class="bd-toc-link" href="../../../../USER_MANUAL/"
        >User documentation</a
      >
      <a
        class="bd-toc-link"
        href="../../../../k-distribution/include/kframework/builtin/"
        >Builtins</a
      >
      <a class="bd-toc-link" href="../../../../projects">Projects using K</a>
    </div>
  </nav>
</div>

        <main
          class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content"
          role="main"
        >
          <div class="introduction markdown-preview"><html><head></head><body><h1 id="lesson-1.6%3A-integers-and-booleans">Lesson 1.6: Integers and Booleans</h1>
<p>The purpose of this lesson is to explain the two most basic types of builtin
sorts in K, the <code>Int</code> sort and the <code>Bool</code> sort, representing
<strong>arbitrary-precision integers</strong> and <strong>Boolean algebra</strong>.</p>
<h2 id="builtin-sorts-in-k">Builtin sorts in K</h2>
<p>K provides definitions of some useful sorts in
<a href="../../../include/kframework/builtin/domains/">domains.md</a>, found in the
<code>include/kframework/builtin</code> directory of the K installation. This file is
defined via a
<a href="https://en.wikipedia.org/wiki/Literate_programming" target="_blank" rel="noopener">Literate programming</a>
style that we will discuss in a future lesson. We will not cover all of the
sorts found there immediately, however, this lesson discusses some of the
details surrounding integers and Booleans, as well as providing information
about how to look up more detailed knowledge about builtin functions in K&apos;s
documentation.</p>
<h2 id="booleans-in-k">Booleans in K</h2>
<p>The most basic builtin sort K provides is the <code>Bool</code> sort, representing
Boolean values (i.e., <code>true</code> and <code>false</code>). You have already seen how we were
able to create this type ourselves using K&apos;s parsing and disambiguation
features. However, in the vast majority of cases, we prefer instead to import
the version of Boolean algebra defined by K itself. Most simply, you can do
this by importing the module <code>BOOL</code> in your definition. For example
(<code>lesson-06-a.k</code>):</p>
<pre class="language-k"><code><span class="token keyword">module</span> LESSON<span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span>A
  <span class="token keyword">imports</span> BOOL

  <span class="token keyword">syntax</span> Fruit <span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">=</span> Blueberry<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span> Banana<span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">syntax</span> <span class="token keyword">Bool</span> <span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">=</span> isBlue<span class="token punctuation">(</span>Fruit<span class="token punctuation">)</span> <span class="token punctuation">[</span>function<span class="token punctuation">]</span>

  <span class="token keyword">rule</span> isBlue<span class="token punctuation">(</span>Blueberry<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token boolean">true</span>
  <span class="token keyword">rule</span> isBlue<span class="token punctuation">(</span>Banana<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token boolean">false</span>
<span class="token keyword">endmodule</span>
</code></pre>
<p>Here we have defined a simple <strong>predicate</strong>, i.e., a function returning a
Boolean value. We are now able to perform the usual Boolean operations of
and, or, and not over these values. For example (<code>lesson-06-b.k</code>):&quot;</p>
<pre class="language-k"><code><span class="token keyword">module</span> LESSON<span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span>B
  <span class="token keyword">imports</span> LESSON<span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span>A

  <span class="token keyword">syntax</span> <span class="token keyword">Bool</span> <span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">=</span> isYellow<span class="token punctuation">(</span>Fruit<span class="token punctuation">)</span> <span class="token punctuation">[</span>function<span class="token punctuation">]</span>
                <span class="token operator">|</span> isBlueOrYellow<span class="token punctuation">(</span>Fruit<span class="token punctuation">)</span> <span class="token punctuation">[</span>function<span class="token punctuation">]</span>

  <span class="token keyword">rule</span> isYellow<span class="token punctuation">(</span>Banana<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token boolean">true</span>
  <span class="token keyword">rule</span> isYellow<span class="token punctuation">(</span>Blueberry<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token boolean">false</span>

  <span class="token keyword">rule</span> isBlueOrYellow<span class="token punctuation">(</span>F<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> isBlue<span class="token punctuation">(</span>F<span class="token punctuation">)</span> orBool isYellow<span class="token punctuation">(</span>F<span class="token punctuation">)</span>
<span class="token keyword">endmodule</span>
</code></pre>
<p>In the above example, Boolean <strong>inclusive or</strong> is performed via the <code>orBool</code>
function, which is defined in the <code>BOOL</code> module. As a matter of convention,
many functions over builtin sorts in K are suffixed with the name of the
primary sort over which those functions are defined. This happens so that the
syntax of K does not (generally) conflict with the syntax of any other
programming language, which would make it harder to define that programming
language in K.</p>
<h3 id="exercise">Exercise</h3>
<p>Write a function <code>isBlueAndNotYellow</code> which computes the appropriate Boolean
expression. If you are unsure what the appropriate syntax is to use, you
can refer to the <code>BOOL</code> module in
<a href="../../../include/kframework/builtin/domains/">domains.md</a>. Add a term of
sort <code>Fruit</code> for which <code>isBlue</code> and <code>isYellow</code> both return true, and test that
the <code>isBlueAndNotYellow</code> function behaves as expected on all three <code>Fruit</code>s.</p>
<h3 id="syntax-modules">Syntax Modules</h3>
<p>For most sorts in <code>domains.md</code>, K defines more than one module that can be
imported by users. For example, for the <code>Bool</code> sort, K defines the <code>BOOL</code>
module that has previously already been discussed, but also provides the
<code>BOOL-SYNTAX</code> module. This module, unlike the <code>BOOL</code> module, only declares the
values <code>true</code> and <code>false</code>, but not any of the functions that operate over the
<code>Bool</code> sort. The rationale is that you may want to import this module into the
main syntax module of your definition in some cases, whereas you generally do
not want to do this with the version of the module that includes all the
functions over the <code>Bool</code> sort. For example, if you were defining the semantics
of C++, you might import <code>BOOL-SYNTAX</code> into the syntax module of your
definition, because <code>true</code> and <code>false</code> are part of the grammar of C++, but
you would only import the <code>BOOL</code> module into the main semantics module, because
C++ defines its own syntax for and, or, and not that is different from the
syntax defined in the <code>BOOL</code> module.</p>
<p>Here, for example, is how we might redefine our Boolean expression calculator
to use the <code>Bool</code> sort while maintaining an idiomatic structure of modules
and imports, for the first time including the rules to calculate the values of
expressions themselves (<code>lesson-06-c.k</code>):</p>
<pre class="language-k"><code><span class="token keyword">module</span> LESSON<span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span>C<span class="token operator">-</span>SYNTAX
  <span class="token keyword">imports</span> BOOL<span class="token operator">-</span>SYNTAX

  <span class="token keyword">syntax</span> <span class="token keyword">Bool</span> <span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">=</span> <span class="token string">&quot;(&quot;</span> <span class="token keyword">Bool</span> <span class="token string">&quot;)&quot;</span> <span class="token punctuation">[</span><span class="token class-name">bracket</span><span class="token punctuation">]</span>
                &gt; <span class="token string">&quot;!&quot;</span> <span class="token keyword">Bool</span> <span class="token punctuation">[</span>function<span class="token punctuation">]</span>
                &gt; <span class="token class-name">left</span><span class="token punctuation">:</span>
                  <span class="token keyword">Bool</span> <span class="token string">&quot;&amp;&amp;&quot;</span> <span class="token keyword">Bool</span> <span class="token punctuation">[</span>function<span class="token punctuation">]</span>
                <span class="token operator">|</span> <span class="token keyword">Bool</span> <span class="token string">&quot;^&quot;</span> <span class="token keyword">Bool</span> <span class="token punctuation">[</span>function<span class="token punctuation">]</span>
                <span class="token operator">|</span> <span class="token keyword">Bool</span> <span class="token string">&quot;||&quot;</span> <span class="token keyword">Bool</span> <span class="token punctuation">[</span>function<span class="token punctuation">]</span>
<span class="token keyword">endmodule</span>

<span class="token keyword">module</span> LESSON<span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span>C
  <span class="token keyword">imports</span> LESSON<span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span>C<span class="token operator">-</span>SYNTAX
  <span class="token keyword">imports</span> BOOL

  <span class="token keyword">rule</span> <span class="token operator">!</span> B <span class="token operator">=&gt;</span> notBool B
  <span class="token keyword">rule</span> A <span class="token operator">&amp;&amp;</span> B <span class="token operator">=&gt;</span> A andBool B
  <span class="token keyword">rule</span> A <span class="token operator">^</span> B <span class="token operator">=&gt;</span> A xorBool B
  <span class="token keyword">rule</span> A <span class="token operator">||</span> B <span class="token operator">=&gt;</span> A orBool B
<span class="token keyword">endmodule</span>
</code></pre>
<p>Note the encapsulation of syntax: the <code>LESSON-06-C-SYNTAX</code> module contains
exactly the syntax of our Boolean expressions, and no more, whereas any other
syntax needed to implement those functions is in the <code>LESSON-06-C</code> module
instead.</p>
<h4 id="exercise-1">Exercise</h4>
<p>Add an &quot;implies&quot; function to the above Boolean expression calculator, using the
<code>-&gt;</code> symbol to represent implication. You can look up K&apos;s builtin &quot;implies&quot;
function in the <code>BOOL</code> module in <code>domains.md</code>.</p>
<h2 id="integers-in-k">Integers in K</h2>
<p>Unlike most programming languages, where the most basic integer type is a
fixed-precision integer type, the most commonly used integer sort in K is
the <code>Int</code> sort, which represents the <strong>mathematical</strong> integers, ie,
arbitrary-precision integers.</p>
<p>K provides three main modules for import when using the <code>Int</code> sort. The first,
containing all the syntax of integers as well as all of the functions over
integers, is the <code>INT</code> module. The second, which provides just the syntax
of integer literals themselves, is the <code>INT-SYNTAX</code> module. However, unlike
most builtin sorts in K, K also provides a third module for the <code>Int</code> sort:
the <code>UNSIGNED-INT-SYNTAX</code> module. This module provides only the syntax of
<strong>non-negative integers</strong>, i.e., whole numbers. The reasons for this involve
lexical ambiguity. Generally speaking, in most programming languages, <code>-1</code> is
not a literal, but instead a literal to which the unary negation operator is
applied. K thus provides this module to ease in specifying the syntax of such
languages.</p>
<p>For detailed information about the functions available over the <code>Int</code> sort,
refer to <code>domains.md</code>. Note again how we append <code>Int</code> to the end of most of the
integer operations to ensure they do not collide with the syntax of other
programming languages.</p>
<h2 id="exercises">Exercises</h2>
<ol>
<li>
<p>Extend your solution from lesson 1.4, problem 2 to implement the rules
that define the behavior of addition, subtraction, multiplication, and
division. Do not worry about the case when the user tries to divide by zero
at this time. Use <code>/Int</code> to implement division. Test your new calculator
implementation by executing the arithmetic expressions you wrote as part of
lesson 1.3, problem 2. Check to make sure each computes the value you expected.</p>
</li>
<li>
<p>Combine the Boolean expression calculator from this lesson with your
solution to problem 1, and then extend the combined calculator with the <code>&lt;</code>,
<code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>==</code>, and <code>!=</code> expressions. Write some Boolean expressions
that combine integer and Boolean operations, and test to ensure that these
expressions return the expected truth value.</p>
</li>
<li>
<p>Compute the following expressions using your solution from problem 2:
<code>7 / 3</code>, <code>7 / -3</code>, <code>-7 / 3</code>, <code>-7 / -3</code>. Then replace the <code>/Int</code> function in
your definition with <code>divInt</code> instead, and observe how the value of the above
expressions changes. Why does this occur?</p>
</li>
</ol>
<h2 id="next-lesson">Next lesson</h2>
<p>Once you have completed the above exercises, you can continue to
<a href="../07_side_conditions/">Lesson 1.7: Side Conditions and Rule Priority</a>.</p>
</body></html></div>
        </main>
      </div>
    </div>
<!-- The footer is now controlled by the k-web-theme git submodule -->
<footer id="rvsite-footer" class="app-footer text-md-left text-center">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-4 mb-md-0 mb-4">
        <a href="https://runtimeverification.com/" target="_blank">
          <picture>
            <source
              srcset="
                https://runtimeverification.com/assets/img/rv-logo-dark.png
              "
              media="(prefers-color-scheme: dark)"
            />
            <img
              class="logo-dark"
              src="https://runtimeverification.com/assets/img/rv-logo.png"
              alt="Runtime Verification logo"
              style="height: 32px"
            /> </picture
        ></a>
        <p class="mt-2 text-md-left copyright">
          <a href="https://goo.gl/maps/NYzr2iKpXMgEmQ2F6" target="_blank"
            >102 E Main St #500, Urbana, IL 61801</a
          >
        </p>
      </div>
      <div class="col-md-4 text-md-center mb-md-0 mb-4"></div>
      <div class="col-md-4 mb-md-0 mb-4 text-md-right">
        <p class="copyright">2021 Â© all rights reserved</p>
      </div>
    </div>
  </div>
</footer>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/Typist/1.2/typist.min.js"></script>
    <script src="../../../../assets/js/index.js"></script>
    <script>
      $(function () {
        // Render youtube video
        const anchorElements = document.querySelectorAll(".markdown-preview a");
        for (let i = anchorElements.length - 1; i >= 0; i--) {
          if (anchorElements.length - 1 - i > 3) {
            break;
          }
          const anchorElement = anchorElements[i];
          const href = anchorElement.getAttribute("href");
          if (href.match(/^https?:\/\/youtu.be\//)) {
            const match = href.match(/^https?:\/\/youtu.be\/(.+?)$/);
            if (match && match[1]) {
              const youtubeId = match[1];
              const $iframe = $(`
<div style="text-align:center;">
  <iframe
    width="560"
    height="315"
    src="https://www.youtube.com/embed/${youtubeId}"
    frameborder="0"
    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
    allowfullscreen
    style="max-width: 100%;"
  ></iframe>
  <p>The video is out of date</p>
</div>
`);
              $(anchorElement).replaceWith($iframe[0]);
            }
          }
        }
      });
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-9LBGDMRG32"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-9LBGDMRG32");
    </script>
  </body>
</html>
