<!DOCTYPE html>
<html lang="en">
  <head>
<meta charset="utf-8" />
<meta
  name="viewport"
  content="width=device-width, initial-scale=1.0, maximum-scale=1.0"
/>
<meta
  name="description"
  content="Design and implement your programming language and software analysis tools with mathematical rigor."
/>
<meta name="keywords" content="runtime, verification, rv, k" />
<meta name="author" content="K | Runtime Verification Inc" />
<meta name="robots" content="index, follow" />
<link rel="canonical" href="https://kframework.org/k-distribution/pl-tutorial/1_k/1_lambda/lesson_9/lambda/" />

<!--favicon icon-->
<link rel="icon" type="image/png" href="../../../../../../assets/img/favicon.ico" />

<title>K | Runtime Verification Inc</title>

<!-- <base href="/k/" /> -->

<!--web fonts-->
<link
  href="https://fonts.googleapis.com/css?family=Nunito:300,400,600,700,800"
  rel="stylesheet"
/>
<link
  href="https://fonts.googleapis.com/css?family=Lora:400i"
  rel="stylesheet"
/>

<link
  href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css"
  rel="stylesheet"
/>

<link href="../../../../../../assets/css/index.css" rel="stylesheet" />

<!--[if (gt IE 9) |!(IE)]><!-->
<!--<link rel="stylesheet" href="/assets/vendor/custom-nav/css/effects/fade-menu.css"/>-->
<!-- <link rel="stylesheet" href="../../../../../../assets/k/vl-nav/css/effects/slide-menu.css" /> -->
<!--<![endif]-->

  </head>

  <body>
<header
  class="navbar navbar-expand navbar-dark flex-column flex-md-row bd-navbar"
>
  <a class="logo-link" href="../../../../../../index.html">
    <img
      class="logo-dark"
      srcset="../../../../../../assets/img/k-logo.png"
      alt="K"
      style="height: 48px;"
    />
    Semantic Framework
  </a>
  <ul class="navbar-nav ml-md-auto">
    <li class="nav-item">
      <a
        class="nav-link pl-2 pr-1 mx-1 py-3 my-n2"
        href="https://github.com/runtimeverification/k"
        target="_blank"
        rel="noopener"
        aria-label="GitHub"
      >
        <i class="fab fa-github"></i>
      </a>
    </li>
  </ul>
  <a
    class="btn btn-rv-blue d-none d-lg-inline-block mb-3 mb-md-0 ml-md-3"
    href="../../../../../../downloads"
    >Download</a
  >
</header>


    <div class="container-fluid">
      <div class="row flex-xl-nowrap">
<div class="col-12 col-md-3 col-xl-2 bd-sidebar mb-3">
  <form
    role="search"
    class="bd-search d-flex align-items-center justify-content-between"
  >
    <input
      type="search"
      class="form-control"
      placeholder="Search..."
      aria-label="Search for..."
      autocomplete="false"
      id="search-box"
    />
    <button
      class="btn bd-search-docs-toggle d-md-none p-0 ml-3 collapsed"
      type="button"
      aria-label="Toggle docs navigation"
      style="font-size: 1.4rem"
    >
      <i class="fas fa-bars"></i>
    </button>
  </form>
  <nav class="collapse bd-links" aria-label="Main navigation">
    <div class="bd-toc-item">
      <a class="bd-toc-link" href="../../../../../../">Homepage</a>
      <a class="bd-toc-link" href="../../../../../../downloads">K Tool Binaries </a>
      <a class="bd-toc-link" href="../../../../../../k-distribution/k-tutorial"
        >K Tutorial</a
      >
      <a class="bd-toc-link" href="../../../../../../k-distribution/pl-tutorial"
        >K PL Tutorial</a
      >
      <a class="bd-toc-link" href="../../../../../../USER_MANUAL/">K User Manual </a>
      <a
        class="bd-toc-link"
        href="../../../../../../k-distribution/include/kframework/builtin/"
        >K Builtins
      </a>
      <a class="bd-toc-link" href="../../../../../../projects">Projects using K</a>
    </div>
  </nav>
</div>

        <main
          class="col-12 col-md-6 col-xl-8 py-md-3 pl-md-5 bd-content"
          role="main"
        >
          <div class="introduction markdown-preview"><html><head></head><body><p><strong>K</strong> code can be nested inside Markdown using annotated code blocks.
Use the tag <code>k</code> to tell the compiler which blocks to select.</p>
<p>Inside <code>.k</code> files, C/Java-like comments are available.</p>
<pre class="language-k"><code><span class="token comment">// Single line comment</span>
<span class="token comment">/* Multiline
comments */</span>
</code></pre>
<h1 id="tutorial-1-----lambda">Tutorial 1 --- LAMBDA</h1>
<p>Author: Grigore Ro&#x219;u (grosu@illinois.edu)<br>
Organization: University of Illinois at Urbana-Champaign</p>
<h3 id="abstract">Abstract</h3>
<p>This file defines a simple functional language in <strong>K</strong>, called LAMBDA,
using a substitution style.  The explicit objective here is to teach some
<strong>K</strong> concepts and how they work in the K tool, and not to teach
&#x3BB;-calculus or to argue for one definitional style against another
(e.g., some may prefer environment/closure-based definitions of such
languages).</p>
<p>Note that the subsequent definition is so simple, that it hardly shows any
of the strengths of <strong>K</strong>.  Perhaps the most interesting <strong>K</strong> aspect it shows is
that substitution can be defined fully generically, and then used to give
semantics to various constructs in various languages.</p>
<p>Note:
<strong>K</strong> follows the
<a href="https://en.wikipedia.org/wiki/Literate_programming" target="_blank" rel="noopener">literate programming</a>
approach. The various semantic features defined in a <strong>K</strong>
module can be reordered at will and can be commented using normal
comments like in C/C++/Java.
While comments are useful in general, they can annoy the expert user
of <strong>K</strong>. To turn them off, you can do one of the following (unless you
want to remove them manually):<br>
(1) Use an <a href="https://github.com/kframework/k-editor-support" target="_blank" rel="noopener">editor</a> which can
hide or highlight Markdown and conventional C-like comments; or<br>
(2) Run <code>kompile --debug &lt;def&gt;</code>. Inside <code>./.kompiled-xxx/.md2.k/</code> you will find
all the K code extracted from the markdown files as used for compilation.</p>
<h3 id="substitution">Substitution</h3>
<p>We need the predefined substitution module, so we require it with the command
below.  Then we should make sure we import its module called SUBSTITUTION
in our LAMBDA module below.</p>
<pre class="language-k"><code><span class="token keyword">require</span> <span class="token string">&quot;substitution.md&quot;</span>

<span class="token keyword">module</span> LAMBDA<span class="token operator">-</span>SYNTAX
  <span class="token keyword">imports</span> DOMAINS<span class="token operator">-</span>SYNTAX
  <span class="token keyword">imports</span> KVAR<span class="token operator">-</span>SYNTAX
</code></pre>
<h3 id="basic-call-by-value-%CE%BB-calculus-syntax">Basic Call-by-value &#x3BB;-Calculus Syntax</h3>
<p>We first define the syntax of conventional call-by-value &#x3BB;-calculus, making
sure we declare the lambda abstraction construct to be a binder, the
lambda application to be strict, and the parentheses used for grouping as
a bracket.</p>
<p>Note:
Syntax in <strong>K</strong> is defined using the familiar BNF notation, with
terminals enclosed in quotes and nonterminals starting with capital
letters. <strong>K</strong> actually extends BNF with several attributes, which will be
described in this tutorial.</p>
<p>Note:
The <code>strict</code> constructs can evaluate their arguments in any (fully
interleaved) order.</p>
<p>The initial syntax of our &#x3BB;-calculus:</p>
<pre class="language-k"><code>  <span class="token keyword">syntax</span> Val <span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">=</span> KVar
               <span class="token operator">|</span> <span class="token string">&quot;lambda&quot;</span> KVar <span class="token string">&quot;.&quot;</span> Exp  <span class="token punctuation">[</span><span class="token class-name">binder</span><span class="token punctuation">,</span> <span class="token class-name">latex</span><span class="token punctuation">(</span>\lambda<span class="token punctuation">{</span>#<span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token punctuation">{</span>#<span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token keyword">syntax</span> Exp <span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">=</span> Val
               <span class="token operator">|</span> Exp Exp              <span class="token punctuation">[</span><span class="token class-name">left</span><span class="token punctuation">,</span> <span class="token class-name">strict</span><span class="token punctuation">]</span>
               <span class="token operator">|</span> <span class="token string">&quot;(&quot;</span> Exp <span class="token string">&quot;)&quot;</span>          <span class="token punctuation">[</span><span class="token class-name">bracket</span><span class="token punctuation">]</span>
</code></pre>
<h3 id="integer-and-boolean-builtins-syntax">Integer and Boolean Builtins Syntax</h3>
<p>The LAMBDA arithmetic and Boolean expression constructs are simply rewritten
to their builtin counterparts once their arguments are evaluated.
The annotated operators in the right-hand side of the rules below are
builtin and come with the corresponding builtin sort. Note that the
variables appearing in these rules have integer sort. That means that these
rules will only be applied after the arguments of the arithmetic constructs
are fully evaluated to <strong>K</strong> results; this will happen thanks to their strictness
attributes declared as annotations to their syntax declarations (below).</p>
<pre class="language-k"><code>  <span class="token keyword">syntax</span> Val <span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">=</span> <span class="token keyword">Int</span> <span class="token operator">|</span> <span class="token keyword">Bool</span>
  <span class="token keyword">syntax</span> Exp <span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">=</span> <span class="token string">&quot;-&quot;</span> <span class="token keyword">Int</span>
               &gt; Exp <span class="token string">&quot;*&quot;</span> Exp          <span class="token punctuation">[</span><span class="token class-name">strict</span><span class="token punctuation">,</span> <span class="token class-name">left</span><span class="token punctuation">]</span>
               <span class="token operator">|</span> Exp <span class="token string">&quot;/&quot;</span> Exp          <span class="token punctuation">[</span><span class="token class-name">strict</span><span class="token punctuation">]</span>
               &gt; Exp <span class="token string">&quot;+&quot;</span> Exp          <span class="token punctuation">[</span><span class="token class-name">strict</span><span class="token punctuation">,</span> <span class="token class-name">left</span><span class="token punctuation">]</span>
               &gt; Exp <span class="token string">&quot;&lt;=&quot;</span> Exp         <span class="token punctuation">[</span><span class="token class-name">strict</span><span class="token punctuation">]</span>
</code></pre>
<h3 id="conditional-syntax">Conditional Syntax</h3>
<p>Note that the <code>if</code> construct is strict only in its first argument.</p>
<pre class="language-k"><code>  <span class="token keyword">syntax</span> Exp <span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">=</span> <span class="token string">&quot;if&quot;</span> Exp <span class="token string">&quot;then&quot;</span> Exp <span class="token string">&quot;else&quot;</span> Exp    <span class="token punctuation">[</span><span class="token class-name">strict</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre>
<h3 id="let-binder">Let Binder</h3>
<p>The let binder is a derived construct, because it can be defined using &#x3BB;.</p>
<pre class="language-k"><code>  <span class="token keyword">syntax</span> Exp <span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">=</span> <span class="token string">&quot;let&quot;</span> KVar <span class="token string">&quot;=&quot;</span> Exp <span class="token string">&quot;in&quot;</span> Exp
  <span class="token keyword">rule</span> let X <span class="token operator">=</span> E in E<span class="token string">&apos;:Exp =&gt; (lambda X . E&apos;</span><span class="token punctuation">)</span> E                         <span class="token punctuation">[</span><span class="token class-name">macro</span><span class="token punctuation">]</span>
</code></pre>
<h3 id="letrec-binder">Letrec Binder</h3>
<p>We prefer a definition based on the &#x3BC; construct.  Note that &#x3BC; is not
really necessary, but it makes the definition of letrec easier to understand
and faster to execute.</p>
<pre class="language-k"><code>  <span class="token keyword">syntax</span> Exp <span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">=</span> <span class="token string">&quot;letrec&quot;</span> KVar KVar <span class="token string">&quot;=&quot;</span> Exp <span class="token string">&quot;in&quot;</span> Exp
               <span class="token operator">|</span> <span class="token string">&quot;mu&quot;</span> KVar <span class="token string">&quot;.&quot;</span> Exp                  <span class="token punctuation">[</span><span class="token class-name">binder</span><span class="token punctuation">,</span> <span class="token class-name">latex</span><span class="token punctuation">(</span>\mu<span class="token punctuation">{</span>#<span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token punctuation">{</span>#<span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  <span class="token keyword">rule</span> letrec F<span class="token punctuation">:</span>KVar X<span class="token punctuation">:</span>KVar <span class="token operator">=</span> E in E<span class="token string">&apos; =&gt; let F = mu F . lambda X . E in E&apos;</span> <span class="token punctuation">[</span><span class="token class-name">macro</span><span class="token punctuation">]</span>
<span class="token keyword">endmodule</span>
</code></pre>
<h3 id="lambda-module">LAMBDA module</h3>
<pre class="language-k"><code><span class="token keyword">module</span> LAMBDA
  <span class="token keyword">imports</span> LAMBDA<span class="token operator">-</span>SYNTAX
  <span class="token keyword">imports</span> SUBSTITUTION
  <span class="token keyword">imports</span> DOMAINS

  <span class="token keyword">syntax</span> KResult <span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">=</span> Val
</code></pre>
<h3 id="%CE%B2-reduction">&#x3B2;-reduction</h3>
<pre class="language-k"><code>  <span class="token keyword">rule</span> <span class="token punctuation">(</span>lambda X<span class="token punctuation">:</span>KVar <span class="token punctuation">.</span> E<span class="token punctuation">:</span>Exp<span class="token punctuation">)</span> V<span class="token punctuation">:</span>Val <span class="token operator">=&gt;</span> E<span class="token punctuation">[</span>V <span class="token operator">/</span> X<span class="token punctuation">]</span>
</code></pre>
<h3 id="integer-builtins">Integer Builtins</h3>
<pre class="language-k"><code>  <span class="token keyword">rule</span> <span class="token operator">-</span> I <span class="token operator">=&gt;</span> <span class="token number">0</span> <span class="token operator">-</span><span class="token keyword">Int</span> I
  <span class="token keyword">rule</span> I1 <span class="token operator">*</span> I2 <span class="token operator">=&gt;</span> I1 <span class="token operator">*</span><span class="token keyword">Int</span> I2
  <span class="token keyword">rule</span> I1 <span class="token operator">/</span> I2 <span class="token operator">=&gt;</span> I1 <span class="token operator">/</span><span class="token keyword">Int</span> I2  <span class="token keyword">requires</span> I2 <span class="token operator">=</span><span class="token operator">/</span><span class="token operator">=</span><span class="token keyword">Int</span> <span class="token number">0</span>
  <span class="token keyword">rule</span> I1 <span class="token operator">+</span> I2 <span class="token operator">=&gt;</span> I1 <span class="token operator">+</span><span class="token keyword">Int</span> I2
  <span class="token keyword">rule</span> I1 <span class="token operator">&lt;=</span> I2 <span class="token operator">=&gt;</span> I1 <span class="token operator">&lt;=</span><span class="token keyword">Int</span> I2
</code></pre>
<h3 id="conditional">Conditional</h3>
<pre class="language-k"><code>  <span class="token keyword">rule</span> if <span class="token boolean">true</span>  then E else _ <span class="token operator">=&gt;</span> E
  <span class="token keyword">rule</span> if <span class="token boolean">false</span> then _ else E <span class="token operator">=&gt;</span> E
</code></pre>
<h3 id="mu">Mu</h3>
<pre class="language-k"><code>  <span class="token keyword">rule</span> mu X <span class="token punctuation">.</span> E <span class="token operator">=&gt;</span> E<span class="token punctuation">[</span><span class="token punctuation">(</span>mu X <span class="token punctuation">.</span> E<span class="token punctuation">)</span> <span class="token operator">/</span> X<span class="token punctuation">]</span>
<span class="token keyword">endmodule</span>
</code></pre>
</body></html></div>
        </main>

        <!-- Page ToC -->
        <div class="col-12 col-md-3 col-xl-2 py-md-3 bd-sidebar page-toc mb-3">
          
<div>
<div class="bd-toc-link-wrapper" style="padding:0.25rem 0;">
              <a
                href="#tutorial-1-----lambda"
                class="bd-toc-link"
                style="padding-left: 0px;;"
              >
                Tutorial 1 --- LAMBDA
              </a></div>
</div>

        </div>
        <div class="btn btn-rv-blue page-toc-toggle-btn"></div>
        <!-- End Page ToC -->
      </div>
    </div>
<!-- The footer is now controlled by the k-web-theme git submodule -->
<footer id="rvsite-footer" class="app-footer text-md-left text-center">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-4 mb-md-0 mb-4">
        <a href="https://runtimeverification.com/" target="_blank">
          <picture>
            <source
              srcset="
                https://runtimeverification.com/assets/img/rv-logo-dark.png
              "
              media="(prefers-color-scheme: dark)"
            />
            <img
              class="logo-dark"
              src="https://runtimeverification.com/assets/img/rv-logo.png"
              alt="Runtime Verification logo"
              style="height: 32px"
            /> </picture
        ></a>
        <p class="mt-2 text-md-left copyright">
          <a href="https://goo.gl/maps/hKLtCjeEd6yqfzwx5" target="_blank"
            >1807 S Neil Street, Champaign, IL 61820</a
          >
        </p>
      </div>
      <div class="col-md-4 text-md-center mb-md-0 mb-4"></div>
      <div class="col-md-4 mb-md-0 mb-4 text-md-right">
        <p class="copyright">2022 © all rights reserved</p>
      </div>
    </div>
  </div>
</footer>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/Typist/1.2/typist.min.js"></script>
    <script src="../../../../../../assets/js/index.js"></script>
    <script>
      $(function () {
        // Render youtube video
        const anchorElements = document.querySelectorAll(".markdown-preview a");
        for (let i = anchorElements.length - 1; i >= 0; i--) {
          if (anchorElements.length - 1 - i > 3) {
            break;
          }
          const anchorElement = anchorElements[i];
          const href = anchorElement.getAttribute("href");
          if (href.match(/^https?:\/\/youtu.be\//)) {
            const match = href.match(/^https?:\/\/youtu.be\/(.+?)$/);
            if (match && match[1]) {
              const youtubeId = match[1];
              const $iframe = $(`
<div style="text-align:center;">
  <iframe
    width="560"
    height="315"
    src="https://www.youtube.com/embed/${youtubeId}"
    frameborder="0"
    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
    allowfullscreen
    style="max-width: 100%;"
  ></iframe>
  <p>The video is out of date</p>
</div>
`);
              $(anchorElement).replaceWith($iframe[0]);
            }
          }
        }
      });
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-9LBGDMRG32"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-9LBGDMRG32");
    </script>
  </body>
</html>
